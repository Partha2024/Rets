<div class="heatmap-card">
  <div class="heatmap-header">
    <h3>{{ title }}</h3>
    <p>{{ subtitle }}</p>
  </div>

  <div class="heatmap-canvas">
    <svg viewBox="0 0 240 300" aria-label="Muscle heatmap">
      <g class="heat-layer">
        <g class="front">
          <circle class="head-shape" cx="60" cy="28" r="13" />
          <ellipse
            class="heat-shape"
            cx="60"
            cy="74"
            rx="15"
            ry="10"
            [attr.fill-opacity]="getOpacity('chest')"
          />
          <ellipse
            class="heat-shape"
            cx="60"
            cy="104"
            rx="12"
            ry="20"
            [attr.fill-opacity]="getOpacity('core')"
          />
          <circle
            class="heat-shape"
            cx="40"
            cy="60"
            r="6.5"
            [attr.fill-opacity]="getOpacity('shoulders')"
          />
          <circle
            class="heat-shape"
            cx="80"
            cy="60"
            r="6.5"
            [attr.fill-opacity]="getOpacity('shoulders')"
          />
          <rect
            class="heat-shape"
            x="26.5"
            y="74"
            width="10"
            height="34"
            rx="6"
            [attr.fill-opacity]="getOpacity('biceps')"
          />
          <rect
            class="heat-shape"
            x="83.5"
            y="74"
            width="10"
            height="34"
            rx="6"
            [attr.fill-opacity]="getOpacity('biceps')"
          />
          <rect
            class="heat-shape"
            x="26.5"
            y="108"
            width="10"
            height="36"
            rx="6"
            [attr.fill-opacity]="getOpacity('forearms')"
          />
          <rect
            class="heat-shape"
            x="83.5"
            y="108"
            width="10"
            height="36"
            rx="6"
            [attr.fill-opacity]="getOpacity('forearms')"
          />
          <rect
            class="heat-shape"
            x="50"
            y="152"
            width="10"
            height="50"
            rx="6"
            [attr.fill-opacity]="getOpacity('quads')"
          />
          <rect
            class="heat-shape"
            x="66"
            y="152"
            width="10"
            height="50"
            rx="6"
            [attr.fill-opacity]="getOpacity('quads')"
          />
          <rect
            class="heat-shape"
            x="50"
            y="200"
            width="10"
            height="28"
            rx="6"
            [attr.fill-opacity]="getOpacity('quads')"
          />
          <rect
            class="heat-shape"
            x="66"
            y="200"
            width="10"
            height="28"
            rx="6"
            [attr.fill-opacity]="getOpacity('quads')"
          />
        </g>

        <g class="back" transform="translate(120, 0)">
          <circle class="head-shape" cx="60" cy="28" r="13" />
          <ellipse
            class="heat-shape"
            cx="60"
            cy="80"
            rx="16"
            ry="22"
            [attr.fill-opacity]="getOpacity('back')"
          />
          <ellipse
            class="heat-shape"
            cx="60"
            cy="112"
            rx="12"
            ry="16"
            [attr.fill-opacity]="getOpacity('core')"
          />
          <circle
            class="heat-shape"
            cx="40"
            cy="60"
            r="6.5"
            [attr.fill-opacity]="getOpacity('shoulders')"
          />
          <circle
            class="heat-shape"
            cx="80"
            cy="60"
            r="6.5"
            [attr.fill-opacity]="getOpacity('shoulders')"
          />
          <rect
            class="heat-shape"
            x="26.5"
            y="74"
            width="10"
            height="34"
            rx="6"
            [attr.fill-opacity]="getOpacity('triceps')"
          />
          <rect
            class="heat-shape"
            x="83.5"
            y="74"
            width="10"
            height="34"
            rx="6"
            [attr.fill-opacity]="getOpacity('triceps')"
          />
          <rect
            class="heat-shape"
            x="26.5"
            y="108"
            width="10"
            height="36"
            rx="6"
            [attr.fill-opacity]="getOpacity('forearms')"
          />
          <rect
            class="heat-shape"
            x="83.5"
            y="108"
            width="10"
            height="36"
            rx="6"
            [attr.fill-opacity]="getOpacity('forearms')"
          />
          <rect
            class="heat-shape"
            x="50"
            y="152"
            width="10"
            height="60"
            rx="6"
            [attr.fill-opacity]="getOpacity('hamstrings')"
          />
          <rect
            class="heat-shape"
            x="66"
            y="152"
            width="10"
            height="60"
            rx="6"
            [attr.fill-opacity]="getOpacity('hamstrings')"
          />
          <rect
            class="heat-shape"
            x="50"
            y="212"
            width="10"
            height="40"
            rx="6"
            [attr.fill-opacity]="getOpacity('calves')"
          />
          <rect
            class="heat-shape"
            x="66"
            y="212"
            width="10"
            height="40"
            rx="6"
            [attr.fill-opacity]="getOpacity('calves')"
          />
        </g>
      </g>

      <text x="60" y="270" text-anchor="middle" class="view-label">Front</text>
      <text x="180" y="270" text-anchor="middle" class="view-label">Back</text>
    </svg>
  </div>

  <div class="heatmap-legend">
    <span class="legend-dot low"></span>
    <span>Low</span>
    <span class="legend-dot high"></span>
    <span>High</span>
  </div>
</div>
